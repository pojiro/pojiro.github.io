---
layout: post
title: "2022-11-24"
category: 日誌
tags: ex_doc
---

- ex_doc の検索機能の調査

ex_doc の検索機能を調べたら、 tinysearch にこだわらずに JavaScript で組むのもありかも知れないと思ってきた。 Rust はできないけど、 JS なら読めるしお手本コードもある。できる（？

### ex_doc の検索機能

[search-page.js](https://github.com/elixir-lang/ex_doc/blob/v0.29.1/assets/js/search-page.js) で実装されている。

"/search.html" に query parameter `q` をつけてアクセスすると search が動作する。

refs. https://github.com/elixir-lang/ex_doc/blob/v0.29.1/assets/js/search-page.js#L17-L39

検索機能には [lunr](https://github.com/olivernn/lunr.js) を使っている。

refs. https://github.com/elixir-lang/ex_doc/blob/v0.29.1/assets/js/search-page.js#L3
